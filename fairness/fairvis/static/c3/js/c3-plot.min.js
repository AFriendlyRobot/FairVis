(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},r={}.hasOwnProperty,i=function(n,t){function u(){this.constructor=n}for(var i in t)r.call(t,i)&&(n[i]=t[i]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n},t=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};c3.Plot=function(t){function r(){return this.max_y=n(this.max_y,this),this.min_y=n(this.min_y,this),this.max_x=n(this.max_x,this),this.min_x=n(this.min_x,this),this.rescale=n(this.rescale,this),this.scale=n(this.scale,this),this._style=n(this._style,this),this._draw=n(this._draw,this),this._update=n(this._update,this),this._size=n(this._size,this),this._init=n(this._init,this),r.__super__.constructor.apply(this,arguments)}return i(r,t),r.version=.1,r.prototype.type="plot",r.prototype.layers=[],r.prototype.axes=[],r.prototype.data=[],r.prototype.h=void 0,r.prototype.v=void 0,r.prototype.x=void 0,r.prototype.y=void 0,r.prototype.h_domain=void 0,r.prototype.v_domain=void 0,r.prototype.margins=void 0,r.prototype.crop_margins=!0,r.prototype.layer_options=void 0,r.prototype.axis_options=void 0,r.prototype._init=function(){var u,i,n,t,f,r;if(this.h==null&&(this.h=d3.scale.linear()),this.v==null&&(this.v=d3.scale.linear()),this.axes&&(u=this.svg.select("g.axes",":first-child").singleton(),this.axes_selection=u.select("g.axis",null,!0).options(this.axis_options).bind(this.axes,function(n){return n.uid}),n=this,this.axes_selection["new"].each(function(t){return t.anchor=this,t.scale==null&&(t.scale=t instanceof c3.Axis.X?n.h:n.v),t.init()})),this.layers_svg=this.content.select("svg.layers",null,!0).singleton(),this.layers_selection=this.layers_svg.select("g.layer").bind(this.layers,function(n){return n.uid}).options(this.layer_options,function(n){return n.options}),n=this,this.layers_selection.all.order(),this.layers_selection["new"].each(function(t){return t.init(n,d3.select(this))}),!this.rendered){if(this.margins==null&&(this.margins={}),typeof this.margins=="number"?this.margins={top:this.margins,bottom:this.margins,left:this.margins,right:this.margins}:c3.util.defaults(this.margins,{top:0,bottom:0,left:0,right:0}),this.axes!=null)for(r=this.axes,t=0,f=r.length;t<f;t++)i=r[t],this.margins[i.orient]+=i.axis_size;this.background_rect=this.content.all.insert("rect",":first-child").attr("class","background").style("visibility","hidden").style("pointer-events","all")}},r.prototype._size=function(){var n,f,t,i,e,o,r,u;if(this.content.height=this.height-this.margins.top-this.margins.bottom,this.content.width=this.width-this.margins.left-this.margins.right,this.content.height<=0&&(this.content.height=1),this.content.width<=0&&(this.content.width=1),c3.d3.set_range(this.h,[0,this.content.width]),c3.d3.set_range(this.v,[this.content.height,0]),this.layers_svg.all.attr("height",this.content.height).attr("width",this.content.width),this.crop_margins!=null)switch(this.crop_margins){case!0:this.layers_svg.all.style("overflow","hidden");break;case!1:this.layers_svg.all.style("overflow","visible");break;case"x":this.layers_svg.all.style({"overflow-x":"hidden","overflow-y":"visible"});break;case"y":this.layers_svg.all.style({"overflow-x":"visible","overflow-y":"hidden"})}for(r=this.layers,t=0,e=r.length;t<e;t++)f=r[t],f.size(this.content.width,this.content.height);if((this.margins.left||this.margins.top)&&this.content.all.attr("transform","translate("+this.margins.left+","+this.margins.top+")"),this.axes)for(u=this.axes,i=0,o=u.length;i<o;i++)n=u[i],n.height=this.content.height,n.width=this.content.width,n._size(),n.content.all.attr("transform",function(){switch(n.orient){case"left":return"translate("+this.margins.left+","+this.margins.top+")";case"right":return"translate("+(this.width-this.margins.right)+","+this.margins.top+")";case"top":return"translate("+this.margins.left+","+this.margins.top+")";case"bottom":return"translate("+this.margins.left+","+(this.height-this.margins.bottom)+")"}}.call(this));this.background_rect.attr("width",this.content.width).attr("height",this.content.height)},r.prototype._update=function(n){var r,t,u,i;for(this.axes_selection.update(),this.layers_selection.update(),i=this.layers,t=0,u=i.length;t<u;t++)r=i[t],r.update(n);this.rendered||this.scale("render")},r.prototype._draw=function(n){var f,e,t,i,o,s,r,u;for(r=this.layers,t=0,o=r.length;t<o;t++)e=r[t],e.draw(n);if(this.axes)for(u=this.axes,i=0,s=u.length;i<s;i++)f=u[i],f.draw()},r.prototype._style=function(n){var i,t,u,r;for(this.axes_selection.style(),this.layers_selection.style(),r=this.layers,t=0,u=r.length;t<u;t++)i=r[t],i.style(n),i.rendered=!0},r.prototype.scale=function(){var n,f,i,t,r,e,o,u;for(i=!1,this.h_domain!=null&&(n=typeof this.h_domain=="function"?this.h_domain.call(this):this.h_domain,n[0]==="auto"&&(n[0]=this.min_x()),n[1]==="auto"&&(n[1]=this.max_x()),(n[0]!==this.h.domain()[0]||n[1]!==this.h.domain()[1])&&(this.h.domain(n),(o=this.orig_h)!=null&&o.domain(n),i=!0)),this.v_domain!=null&&(t=typeof this.v_domain=="function"?this.v_domain.call(this):this.v_domain,t[0]==="auto"&&(t[0]=this.min_y()),t[1]==="auto"&&(t[1]=this.max_y()),(t[0]!==this.v.domain()[0]||t[1]!==this.v.domain()[1])&&(this.v.domain(t),i=!0)),u=this.layers,r=0,e=u.length;r<e;r++)f=u[r],i=f.scale()||i;return i},r.prototype.rescale=function(){return this.scale()&&this.draw("rescale"),this},r.prototype.min_x=function(){return d3.min(this.layers,function(n){return n.min_x()})},r.prototype.max_x=function(){return d3.max(this.layers,function(n){return n.max_x()})},r.prototype.min_y=function(){return d3.min(this.layers,function(n){return n.min_y()})},r.prototype.max_y=function(){return d3.max(this.layers,function(n){return n.max_y()})},r}(c3.Chart);c3.Plot.Selectable=function(r){function u(){return this.select=n(this.select,this),this._size=n(this._size,this),this._init=n(this._init,this),u.__super__.constructor.apply(this,arguments)}return i(u,r),u.version=.1,u.prototype.type="selectable",u.prototype.selectable="hv",u.prototype.drag_selections=!0,u.prototype._init=function(){return u.__super__._init.apply(this,arguments),this.selectable===!0?this.selectable="hv":this.selectable===!1&&(this.selectable=""),this.svg.all.classed("h",t.call(this.selectable,"h")>=0).classed("v",t.call(this.selectable,"v")>=0)},u.prototype._size=function(){if(u.__super__._size.apply(this,arguments),this.brush==null){this.brush=d3.svg.brush();t.call(this.selectable,"h")>=0&&this.brush.x(this.h);t.call(this.selectable,"v")>=0&&this.brush.y(this.v);this.brush.on("brush",function(n){return function(){var t;return t=n.brush.empty()?null:n.brush.extent(),t!==n.prev_extent&&(n.select(t),n.trigger("select",t)),n.prev_extent=t}}(this));this.brush.on("brushend",function(n){return function(){var t;return t=n.brush.empty()?null:n.brush.extent(),n.select(t),n.trigger("selectend",t)}}(this));this.brush.g=this.content.all.append("g").attr("class","brush").call(this.brush);t.call(this.selectable,"v")>=0&&(this.brush.g.insert("rect",":first-child").attr("class","unbrush").classed("n",!0).attr("y",0),this.brush.g.insert("rect",":first-child").attr("class","unbrush").classed("s",!0),this.brush.g.selectAll("g.brush > rect").attr("width",this.content.width),t.call(this.selectable,"h")<0&&this.brush.g.selectAll("g.resize > rect").attr("width",this.content.width));t.call(this.selectable,"h")>=0&&(this.brush.g.insert("rect",":first-child").attr("class","unbrush").classed("w",!0).attr("x",0),this.brush.g.insert("rect",":first-child").attr("class","unbrush").classed("e",!0),this.brush.g.selectAll("g.brush > rect").attr("height",this.content.height),t.call(this.selectable,"v")<0&&this.brush.g.selectAll("g.brush g.resize rect").attr("height",this.content.height))}return this.brush.g.selectAll("rect.extent, g.resize").style("pointer-events",this.drag_selections?"":"none"),this.select(this.selection)},u.prototype.select=function(n){var i,r;return this.selection=n,this.selection!=null&&this.selection.length?(i=t.call(this.selectable,"v")>=0?[this.selection[0][0],this.selection[1][0]]:this.selection,r=t.call(this.selectable,"h")>=0?[this.selection[0][1],this.selection[1][1]]:this.selection,this.brush.extent(this.selection)):(i=this.h.domain(),r=this.v.domain(),this.brush.extent(t.call(this.selectable,"h")>=0&&t.call(this.selectable,"v")>=0?[[0,0],[0,0]]:[0,0])),this.brush(this.brush.g),t.call(this.selectable,"h")>=0&&(this.brush.g.select(".unbrush[class~=w]").attr("width",this.h(i[0])),this.brush.g.select(".unbrush[class~=e]").attr("width",Math.abs(this.h(this.h.domain()[1]-i[1]))).attr("x",this.h(i[1]))),t.call(this.selectable,"v")>=0&&(this.brush.g.select(".unbrush[class~=n]").attr("height",this.v(r[1])),this.brush.g.select(".unbrush[class~=s]").attr("height",Math.abs(this.v(this.v.domain()[0]-r[0]))).attr("y",this.v(r[0])),t.call(this.selectable,"h")>=0&&this.brush.g.selectAll(".unbrush[class~=n], .unbrush[class~=s]").attr("x",this.h(i[0])).attr("width",this.h(i[1]-i[0]))),delete this.prev_extent},u}(c3.Plot);c3.Plot.Zoomable=function(t){function r(){return this._draw=n(this._draw,this),this.focus=n(this.focus,this),this._size=n(this._size,this),this._init=n(this._init,this),r.__super__.constructor.apply(this,arguments)}return i(r,t),r.version=0,r.prototype.type="zoomable",r.prototype.snap_to_all=.01,r.prototype.zoom_extent=void 0,r.prototype._init=function(){var n,t;if(this.rendered)return r.__super__._init.apply(this,arguments);if(r.__super__._init.apply(this,arguments),this.zoomable!=="h")throw"Only horizontal zooming is currently supported";this.orig_h=this.h.copy();this.zoomer=d3.behavior.zoom().on("zoom",function(n){return function(){return n.trigger("zoom",n.focus(n.h.domain()))}}(this));this.prev_zoomend_domain=this.h.domain().slice(0);this.zoomer.on("zoomend",function(n){return function(){var t,i;if(n.h.domain()[0]!==((t=n.prev_zoomend_domain)!=null?t[0]:void 0)||n.h.domain()[1]!==((i=n.prev_zoomend_domain)!=null?i[1]:void 0))return n.trigger("zoomend",n.h.domain()),n.prev_zoomend_domain=n.h.domain().slice(0)}}(this));this.zoomer(this.content.all);this.content.all.on("dblclick.zoom",null);n=void 0;t=function(){return n&&d3.event.touches.length===1&&d3.event.timeStamp-n.timeStamp<500&&Math.abs(d3.event.touches[0].screenX-n.touches[0].screenX)<10&&Math.abs(d3.event.touches[0].screenY-n.touches[0].screenY)<10&&(d3.event.stopPropagation(),n=void 0),n=d3.event};this.layers_svg.all.on("touchstart.zoom",t);this.background_rect.on("touchstart.zoom",t);this.content.all.on("mousedown.zoomable",function(){return d3.select("html").classed("grabbing",!0)}).on("mouseup.zoomable",function(){return d3.select("html").classed("grabbing",!1)});return window.addEventListener("mouseup",function(){return d3.select("html").classed("grabbing",!1)})},r.prototype._size=function(){var n;return r.__super__._size.apply(this,arguments),c3.d3.set_range(this.orig_h,[0,this.content.width]),n=this.h.domain(),this.h.domain(this.orig_h.domain()),this.zoomer.x(this.h),this.zoom_extent!=null?this.zoom_extent==="integer"?this.zoomer.scaleExtent([1,1/(this.content.width/this.orig_h.domain()[1])]):this.zoomer.scaleExtent([1,this.zoom_extent]):this.zoomer.scaleExtent([1,Infinity]),this.focus(n)},r.prototype.focus=function(n){var r,t,u,f,v,i,y,e,h,c,p,w,o,s,b,k,d,g,l,a;if(this.rendered){if(n!=null&&n.length||(n=this.orig_h.domain()),n=n.slice(0),t=this.orig_h.domain(),u=t[1]-t[0],n[0]=(d=typeof(p=n[0]).getTime=="function"?p.getTime():void 0)!=null?d:n[0],n[1]=(g=typeof(w=n[1]).getTime=="function"?w.getTime():void 0)!=null?g:n[1],n[0]<t[0]&&(n[1]+=t[0]-n[0],n[0]=t[0]),n[1]>t[1]&&(n[0]-=n[1]-t[1],n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0],n[1]=t[1]),n[0]-t[0]<u*this.snap_to_all&&t[1]-n[1]<u*this.snap_to_all&&(n[0]=t[0],n[1]=t[1]),e=u/(n[1]-n[0]),c=(t[0]-n[0])*e*(this.content.width/u),this.zoomer.translate([c,0]).scale(e),this.layers_svg.all.selectAll(".scaled").attr("transform","translate("+c+" 0)scale("+e+" 1)"),i=this.h.domain().slice(0),this.prev_domain==null&&(this.prev_domain=t),h=(i[1]-i[0])/1e6,v=Math.abs(i[0]-this.prev_domain[0])/h>1,y=Math.abs(i[1]-this.prev_domain[1])/h>1,v||y){for(l=this.layers,o=0,b=l.length;o<b;o++)f=l[o],f.rendered&&typeof f.zoom=="function"&&f.zoom();if(this.axes)for(a=this.axes,s=0,k=a.length;s<k;s++)(r=a[s],r.scale&&r instanceof c3.Axis.X)&&(r.scale.domain(i),r._draw());this.prev_domain=i;this.trigger("redraw","focus");this.trigger("restyle",!0)}return t[0]===n[0]&&t[1]===n[1]?null:i}},r.prototype._draw=function(n){return r.__super__._draw.apply(this,arguments),n==="render"&&this.rendered?(this.prev_domain=[0,0],this.focus(this.h.domain())):void 0},r}(c3.Plot);c3.Axis=function(t){function r(){this._draw=n(this._draw,this);this._init=n(this._init,this);r.__super__.constructor.apply(this,arguments);this.uid=c3.Axis._next_uid++}return i(r,t),r.version=.1,r.prototype.type="axis",r._next_uid=0,r.prototype.scale=void 0,r.prototype.orient=void 0,r.prototype.grid=!1,r.prototype.label=void 0,r.prototype.ticks=!0,r.prototype.tick_label=!0,r.prototype.tick_values=void 0,r.prototype.tick_count=void 0,r.prototype.tick_size=6,r.prototype.path_size=2,r.prototype.axis_size=void 0,r.prototype._init=function(){return this.scale==null&&(this.scale=d3.scale.linear()),this.content.all.classed("axis",!0),this.content.all.classed(this.orient,!0),this.axis=d3.svg.axis().orient(this.orient)},r.prototype._draw=function(){return this.scale&&(this.axis.scale(this.scale).outerTickSize(this.path_size).innerTickSize(this.ticks?this.tick_size:0).tickValues(this.tick_values).tickFormat(function(){if(this.ticks)switch(this.tick_label){case!1:return"";case!0:return null;default:return this.tick_label}else return""}.call(this)),this.tick_count!=null&&this.axis.ticks(this.tick_count),this.content.all.call(this.axis)),this.label&&(this.text_label=this.content.all.selectAll("text.label").data([this.label]),this.text_label.enter().append("text").attr("class","label"),this.text_label.text(this.label).text(this.label)),this.grid?(this.content.all.selectAll("g.tick line.grid").remove(),this.content.all.selectAll("g.tick").append("line").classed("grid",!0).attr("x2",function(){switch(this.orient){case"left":return this.width;case"right":return-this.width;default:return 0}}.call(this)).attr("y2",function(){switch(this.orient){case"bottom":return-this.height;case"top":return this.height;default:return 0}}.call(this))):void 0},r}(c3.Chart);c3.Axis.X=function(t){function r(){return this._draw=n(this._draw,this),this._size=n(this._size,this),this._init=n(this._init,this),r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.type="x",r.prototype.orient="bottom",r.prototype._init=function(){return r.__super__._init.apply(this,arguments),this.axis_size!=null?this.axis_size:this.axis_size=(this.ticks?Math.max(this.tick_size,this.path_size)+(this.tick_label?20:0):0)+(this.label?24:0)},r.prototype._size=function(){return this.orient==="top"&&this.content.all.attr("transform","translate(0,"+this.height+")"),this.scale?c3.d3.set_range(this.scale,[0,this.width]):void 0},r.prototype._draw=function(){return r.__super__._draw.apply(this,arguments),this.label!=null?this.text_label.attr({x:this.width/2|0,y:this.orient==="bottom"?this.axis_size:"",dy:"-0.5em"}):void 0},r}(c3.Axis);c3.Axis.Y=function(t){function r(){return this._draw=n(this._draw,this),this._size=n(this._size,this),this._init=n(this._init,this),r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.type="y",r.prototype.orient="left",r.prototype._init=function(){return r.__super__._init.apply(this,arguments),this.axis_size!=null?this.axis_size:this.axis_size=(this.ticks?Math.max(this.tick_size,this.path_size):0)+(this.tick_label?42:0)+(this.label?20:0)},r.prototype._size=function(){return this.orient==="left"&&this.content.all.attr("transform","translate("+this.width+",0)"),this.scale?c3.d3.set_range(this.scale,[this.height,0]):void 0},r.prototype._draw=function(){return r.__super__._draw.apply(this,arguments),this.label!=null?this.text_label.attr({x:this.orient==="left"?-this.axis_size:this.axis_size,y:this.height/2|0,dy:this.orient==="left"?"1em":"-1em",transform:"rotate(-90,"+(this.orient==="left"?-this.axis_size:this.axis_size)+","+(this.height/2|0)+")"}):void 0},r}(c3.Axis)}).call(this);
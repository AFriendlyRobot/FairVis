<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>C3 Documentation</title>
  <script src='../../javascript/application.js'></script>
  <script src='../../javascript/search.js'></script>
  <link rel='stylesheet' href='../../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../../extra/README.md.html' title='Q3'>
      Q3
    </a>
    &raquo;
    <a href='../../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>c3</span>
    &raquo;
    <span class='title'>Selection</span>
  </div>
</div>
    <div id='content'>
      <h1>
        Class:
        c3.Selection
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>js&#47;c3.coffee</td>
        </tr>
      </table>
      <h2>Overview</h2>
      <div class='docstring'>
  <p>The c3 selection object is used internally as an abstraction around D3 selections to provide
common functionality and patterns.  It is not meant to provide a general solution or replace D3.
The motivation behind it is to normalize design patterns and performance optimizations
useful for c3 visualizations on top of what D3 offers.
In particular, it is useful to allow c3 users to define options which c3 visualizations
can then use to do the actual DOM updates.</p><p><strong>Please refer to <a href='../../class/c3/Selection.Options.html'>c3.Selection.Options</a> for user-configurable options.</strong></p><p>c3 visualizations create c3.Selection objects to in turn create and represent various DOM nodes.
<a href='../../class/c3/Selection.Options.html'>c3.Selection.Options</a> objects are used to persist user options that are used in subsequent
updates or styling of nodes.  For example, there is a <code>circle_options</code> {c3.Selection.options} used to
describe how to setup and style circles in a scatter plot.  You can still modify the different selection option
properties, which will then be used as appropriate when redraw() or restyle() is called.</p><h2 id="variables">Variables</h2>
<ul>
<li><strong><code>all</code></strong> - [<a href='https://github.com/mbostock/d3/wiki/Selections'>d3.selection</a>] D3 selection of all nodes</li>
<li><strong><code>new</code></strong> - [<a href='https://github.com/mbostock/d3/wiki/Selections'>d3.selection</a>] D3 selection of newly created nodes</li>
<li><strong><code>old</code></strong> - [<a href='https://github.com/mbostock/d3/wiki/Selections'>d3.selection</a>] D3 selection of nodes removed due to data binding</li>
</ul>

</div>
<div class='tags'>
  <h3>Author:</h3>
  <ul class='author'>
    <li>
      Douglas Armstrong 
    </li>
  </ul>
  <h3>See also:</h3>
  <ul class='see'>
    <li>
      <a href='../../class/c3/Selection.Options.html'>c3.Selection.Options</a>
    </li>
    <li>
      <a href='~c3.select'>~c3.select</a>
    </li>
    <li>
      <a href='https://github.com/mbostock/d3/wiki/Selections'>https:&#47;&#47;github.com&#47;mbostock&#47;d3&#47;wiki&#47;Selections</a>
    </li>
  </ul>
</div>
      <h2>Variables Summary</h2>
      <dl class='constants'>
  <dt id='opt-variable'>
    opt
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>{}</code></pre>
    <div class='docstring'>
  <p>[<a href='../../class/c3/Selection.Options.html'>c3.Selection.Options</a>] User configurable options for ongoing <code>update()</code> and <code>style()</code> manipulation of nodes.</p>
</div>
<div class='tags'>
</div>
  </dd>
  <dt id='opt_array-variable'>
    opt_array
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>undefined</code></pre>
    <div class='docstring'>
  <p>[Array&lt;<a href='../../class/c3/Selection.Options.html'>c3.Selection.Options</a>&gt;] Array of user options for each node in the selection based on the index.</p>
</div>
<div class='tags'>
</div>
  </dd>
</dl>
      <h2>Instance Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#select-dynamic'>
        #
(void)
<b>select</b><span>(query, before, children_only)</span>
      </a>
    </span>
    <span class='desc'>
      Create a new c3 selection based on the current selection 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#inherit-dynamic'>
        #
(void)
<b>inherit</b><span>(query, create = true, prepend = false)</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='desc'>
      Create a child node for each node in the parent&#39;s selection with a 1:1 mapping to the same data. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#singleton-dynamic'>
        #
(void)
<b>singleton</b><span>(datum)</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='desc'>
      Create a single DOM node based on the passed in data. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#bind-dynamic'>
        #
(void)
<b>bind</b><span>(data, key)</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='desc'>
      Update the DOM nodes based on the provided data using D3. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#remove-dynamic'>
        #
(void)
<b>remove</b><span>()</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='desc'>
      Remove this selection 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#options-dynamic'>
        #
(void)
<b>options</b><span>(opt = {}, opt_accessor)</span>
      </a>
    </span>
    <span class='desc'>
      Set persistent user-configurable options. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#animate-dynamic'>
        #
(void)
<b>animate</b><span>(animate = true)</span>
      </a>
    </span>
    <span class='desc'>
      Allow animations for this selection during binding or positioning if the user requested them with <code>animate</code> in the <a href='../../class/c3/Selection.Options.html'>c3.Selection.Options</a>.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#update-dynamic'>
        #
(void)
<b>update</b><span>()</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='desc'>
      This will setup event handlers for new nodes and update classes, tooltips, text, and html for all nodes based on the current data and <a href='../../class/c3/Selection.Options.html'>options</a>.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#position-dynamic'>
        #
(void)
<b>position</b><span>(attrs)</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='desc'>
      Update the attribute values for the dom nodes of this selection based on the values and callbacks set in attrs.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#position_tweens-dynamic'>
        #
(void)
<b>position_tweens</b><span>(attrs)</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='desc'>
      Update the attribute values for the dom nodes of this selection based on tween functions in <code>attrs</code> 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#style-dynamic'>
        #
(void)
<b>style</b><span>(style_new)</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='desc'>
      A method to style and setup CSS classes for the nodes in the selection based on the current {c3.Selection.options options}. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#node-dynamic'>
        #
(HTMLElement)
<b>node</b><span>()</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='desc'>
      Return a single HTML Element for this selection. 
    </span>
  </li>
</ul>
      <h2>Constructor Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='constructor-dynamic'>
      #
(void)
<b>constructor</b><span>(d3_selection = d3.select(), query, before, children_only)</span>
      <br>
    </p>
    <div class='docstring'>
  <div class='note todo'>
    <strong>TODO:</strong>
    Support all possible selectors. 
  </div>
  <p>Create a new selection</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>d3_selection</span>
      <span class='type'>
        (
          <tt>{https:&#47;&#47;github.com&#47;mbostock&#47;d3&#47;wiki&#47;Selections d3.selection</tt>
        )
      </span>
    </li>
    <li>
      <span class='name'>query</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Search string to query in the parent selection to make this new selection. If a class is specified, such as &quot;tag.class&quot;, then the class will automatically be added to newly created nodes. </span>
    </li>
    <li>
      <span class='name'>before</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>An optional selector to insert nodes before. <code>:first-child</code> will insert nodes at the beginning. </span>
    </li>
    <li>
      <span class='name'>children_only</span>
      <span class='type'>
        (
          <tt>boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Only select direct children, not all descendents </span>
    </li>
  </ul>
</div>
  </div>
</div>
      <h2>Instance Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='select-dynamic'>
      #
(void)
<b>select</b><span>(query, before, children_only)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Create a new c3 selection based on the current selection</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>query</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Search string to query in the parent selection to make this new selection. If a class is specified, such as &quot;tag.class&quot;, then the class will automatically be added to newly created nodes. </span>
    </li>
    <li>
      <span class='name'>before</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>An optional selector to insert nodes before. <code>:first-child</code> will insert nodes at the beginning. </span>
    </li>
    <li>
      <span class='name'>children_only</span>
      <span class='type'>
        (
          <tt>boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Only select direct children, not all descendents </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='inherit-dynamic'>
      #
(void)
<b>inherit</b><span>(query, create = true, prepend = false)</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Create a child node for each node in the parent&#39;s selection with a 1:1 mapping to the same data.
For example, if the parent selection had a set of svg:g nodes, then <em>inheriting</em> from that
with a <code>circle</code> query would create an svg:circle node nested in each svg:g node.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>query</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Node type to create as nested nodes in the current selection </span>
    </li>
    <li>
      <span class='name'>create</span>
      <span class='type'>
        (
          <tt>Boolean, String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Create missing child nodes for new nodes or set to <code>restore</code> to ensure that child nodes are created for existing parent nodes that don&#39;t already have them. </span>
    </li>
    <li>
      <span class='name'>prepend</span>
      <span class='type'>
        (
          <tt>Boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>If true, then prepend child nodes instead of appending them. Note that this will not prepend in front of any text content, only child nodes. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='singleton-dynamic'>
      #
(void)
<b>singleton</b><span>(datum)</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Create a single DOM node based on the passed in data.  Ensure that only one node will be created
and will remove extra nodes that match the query if they previously existed.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>datum</span>
      <span class='type'>
        (
          <tt>*</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The datum to bind to the DOM node.  This may be left undefined. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='bind-dynamic'>
      #
(void)
<b>bind</b><span>(data, key)</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Update the DOM nodes based on the provided data using D3.
Create new nodes and remove them as necessary so there is a node for each element in
the data array and they are bound together.
The <code>key</code> function is optional and is used to uniquely identify data elements.
So, even if the data is reordered in subsequent calls to update, they will still be
bound to the same DOM nodes.
Animate opacity for entering or exiting nodes if <code>animate</code> is set in the options
unless the opacity style is defined.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>data</span>
      <span class='type'>
        (
          <tt>Array</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Array of data to bind to the DOM </span>
    </li>
    <li>
      <span class='name'>key</span>
      <span class='type'>
        (
          <tt>Function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Accessor to uniquely identify data elements </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='remove-dynamic'>
      #
(void)
<b>remove</b><span>()</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Remove this selection</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='options-dynamic'>
      #
(void)
<b>options</b><span>(opt = {}, opt_accessor)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Set persistent user-configurable options.  A reference to these options are stored in the
selection and are used for future manipulation in <a href='../../class/c3/Selection.html#update-dynamic'><code>update()</code></a>
and <a href='../../class/c3/Selection.html#style-dynamic'><code>style()</code></a>.
<a href='../../class/c3/Selection.Options.html'>options</a> for a specific data element.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>opt</span>
      <span class='type'>
        (
          <tt><a href='../../class/c3/Selection.Options.html'>c3.Selection.Options</a></tt>
        )
      </span>
      &mdash;
      <span class='desc'><em>User-configurable</em> options to define how to setup and style the selection&#39;s nodes. </span>
    </li>
    <li>
      <span class='name'>opt_accessor</span>
      <span class='type'>
        (
          <tt>Function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>An optional accessor to return </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='animate-dynamic'>
      #
(void)
<b>animate</b><span>(animate = true)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Allow animations for this selection during binding or positioning if the user
requested them with <code>animate</code> in the <a href='../../class/c3/Selection.Options.html'>c3.Selection.Options</a>.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>animate</span>
      <span class='type'>
        (
          <tt>Boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Allow animations </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='update-dynamic'>
      #
(void)
<b>update</b><span>()</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <p>This will setup event handlers for new nodes and update classes, tooltips,
text, and html for all nodes based on the current data and <a href='../../class/c3/Selection.Options.html'>options</a>.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='position-dynamic'>
      #
(void)
<b>position</b><span>(attrs)</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Update the attribute values for the dom nodes of this selection based on the values
and callbacks set in attrs.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>attrs</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
      &mdash;
      <span class='desc'>A map where the keys represent DOM attribute names and the values are the corresponding values or functions to set them.  The functions are called via D3.  They are passed the bound datum and index to the data as arguments and the <code>this</code> context is set to refer to the HTML element. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='position_tweens-dynamic'>
      #
(void)
<b>position_tweens</b><span>(attrs)</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Update the attribute values for the dom nodes of this selection based on tween functions in <code>attrs</code></p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>tweens</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
      &mdash;
      <span class='desc'>A map where the keys represent DOM attribute names and the values are corresponding tween functions for animating them.  The functions are called via D3.  They are passed the bound datum and index to the data as arguments and the <code>this</code> context refers to the HTML element.  They should return a &quot;tween&quot; function thich takes a time parameter from 0-1 as the transition animation progresses based on the easing function.  It is the tween function that should finally return the value of the attribute for that point in the transition. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='style-dynamic'>
      #
(void)
<b>style</b><span>(style_new)</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <p>A method to style and setup CSS classes for the nodes in the selection based on the current {c3.Selection.options options}.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>style_new</span>
      <span class='type'>
        (
          <tt>Boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>By default all nodes will be updated. If this is set, then only new nodes will be updated. This only works if the data was bound with a key function to avoid nodes having incorrect styles when the bound data is dynamically rearranged. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='node-dynamic'>
      #
(HTMLElement)
<b>node</b><span>()</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Return a single HTML Element for this selection.  Mostly useful if you know the selection only represents a single node.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>HTMLElement</tt>
      )
      &mdash;
      <span class='desc'>node </span>
    </li>
  </ul>
</div>
  </div>
</div>
    </div>
    <div id='footer'>
  By
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.1.2
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>